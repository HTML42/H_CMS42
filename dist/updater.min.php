<?php $Za=json_decode('["index.php","version"]');function _get($Zb){if(is_string($Zb)&&strlen($Zb)>5){$Zb=trim($Zb);ob_start();$ch=curl_init();curl_setopt($ch,CURLOPT_URL, $Zb);curl_setopt($ch,CURLOPT_HEADER, false);$Zc=curl_exec($ch);curl_close($ch);$Zd=ob_get_clean();if(!in_array(trim($Zd),array('404:Not Found'))){return $Zd;}else{return null;}}return null;}define('DIR_CMS',__DIR__.'/42/');$Ze=null;$Zf=DIR_CMS.'version';define('CMS_VERSION',(is_file($Zf)?trim(file_get_contents($Zf)):NULL));$Zg='https://raw.githubusercontent.com/HTML42/H_CMS42/master/';$Zm=$Zg.'updater/files/';$Zi=scandir(dirname(__DIR__));if(substr(__DIR__,-4)=='dist'&&in_array('demo',$Zi)&&in_array('updater',$Zi)){exit('<div>You are currently accessing to a source-File.</div>');}$Zj=_get($Zm.'version');define('CDN_VERSION',is_string($Zj)?$Zj:null);$Ze=false;if(!is_dir(DIR_CMS)){mkdir(DIR_CMS);$Ze=true;}if(!is_string(CMS_VERSION)||strlen(CMS_VERSION)<1){$Ze=true;}elseif(CMS_VERSION!=CDN_VERSION){$Ze=true;}echo'<span>CDN-Version:</span>'.CDN_VERSION;echo'<br/>';echo'<span>CMS-Version:</span>'.CMS_VERSION;echo'<br/>';echo'<span>Update needed:</span>'.strval($Ze);if($Ze){if(isset($Za)&&is_array($Za)){foreach($Za as $Zk){$Zl=_get($Zm.$Zk);file_put_contents(DIR_CMS.$Zk,$Zl);}}}